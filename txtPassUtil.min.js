function lightenHexColor(e,t){const[n,r,s]=hexToHsl(e);Math.min(100,s+t);return hslToHex(n,r,90)}function hexToHsl(e){let t,n,r;if(3===(e=e.replace(/^#/,"")).length)t=parseInt(e[0]+e[0],16),n=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16);else{if(6!==e.length)throw new Error("Invalid HEX color.");t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16)}t/=255,n/=255,r/=255;const s=Math.max(t,n,r),o=Math.min(t,n,r);let c,l,a=(s+o)/2;if(s===o)c=l=0;else{const e=s-o;switch(l=a>.5?e/(2-s-o):e/(s+o),s){case t:c=(n-r)/e+(n<r?6:0);break;case n:c=(r-t)/e+2;break;case r:c=(t-n)/e+4}c*=60}return[c,100*l,100*a]}function hslToHex(e,t,n){t/=100,n/=100;let r=(1-Math.abs(2*n-1))*t,s=r*(1-Math.abs(e/60%2-1)),o=n-r/2,c=0,l=0,a=0;return 0<=e&&e<60?(c=r,l=s,a=0):60<=e&&e<120?(c=s,l=r,a=0):120<=e&&e<180?(c=0,l=r,a=s):180<=e&&e<240?(c=0,l=s,a=r):240<=e&&e<300?(c=s,l=0,a=r):300<=e&&e<360&&(c=r,l=0,a=s),c=Math.round(255*(c+o)),l=Math.round(255*(l+o)),a=Math.round(255*(a+o)),"#"+((1<<24)+(c<<16)+(l<<8)+a).toString(16).slice(1).toUpperCase()}function changetheme(e){const t=e||"#0f699d";document.documentElement.style.setProperty("--primary-color",t);const n=lightenHexColor(t,46.3);document.documentElement.style.setProperty("--accent-color",n)}function fillMerge(e,t){let n=e,r=[];return n=n.replace(/<([^>]+)>/g,(e,n)=>{const s=n.replace(/ /g,"_");return t.hasOwnProperty(s)?t[s]:(r.push(n),e)}),r.length>0?{result:e,code:"error",message:`Key(s) not found: ${r.join(", ")}`}:{result:n,code:"success"}}